# Инструкция по установке на Timeweb

## 1. Загрузка файлов

### Структура файлов на хостинге:
```
public_html/
├── index.html
├── assets/
├── api/
│   ├── config.php
│   ├── auth.php
│   ├── user-auth.php
│   ├── teams.php
│   ├── settings.php
│   ├── register.php
│   └── schedule.php
├── placeholder.svg
├── favicon.svg
└── robots.txt
```

## 2. Настройка прав доступа

⚠️ **ВАЖНО:** Используйте эти права для безопасности PHP файлов с паролями БД:

### Через файловый менеджер Timeweb:
1. Выделите **папку `api`** → Правая кнопка → Права → **700**
2. Выделите **все PHP файлы в `api/`** → Правая кнопка → Права → **600**
3. Выделите **папку `assets`** → Права → **755**
4. Выделите **файлы `.html, .svg, .txt`** → Права → **644**

### Через SSH (если доступен):
```bash
cd public_html
chmod 700 api
chmod 600 api/*.php
chmod 755 assets
chmod 644 *.html *.svg *.txt
```

### Что это даёт:
- **600** для PHP файлов = только владелец читает/пишет (веб-сервер может выполнять)
- **700** для папки `api` = только владелец имеет доступ
- **644/755** для публичных файлов = все могут читать

## 3. Настройка базы данных

### Шаг 1: Создайте базу MySQL
1. Панель Timeweb → **Базы данных** → **Создать базу**
2. Запомните:
   - Имя базы: `ce876244_tournam`
   - Пользователь: `ce876244_phpMyAdmin`
   - Пароль: `kh5-XQi-EWE-9gS`

### Шаг 2: Выполните SQL скрипты
1. Откройте **phpMyAdmin**
2. Выберите базу `ce876244_tournam`
3. Вкладка **SQL** → вставьте содержимое `01-mysql-schema.sql` → **Вперёд**
4. Вкладка **SQL** → вставьте содержимое `02-insert-data.sql` → **Вперёд**

### Шаг 3: Проверьте данные
В phpMyAdmin должны появиться таблицы:
- `admin_users` (с пользователем Xuna)
- `teams`
- `user_sessions`
- `team_registrations`
- `individual_registrations`
- `individual_players`
- `settings`
- `matches`
- `schedule_teams`

## 4. Данные для входа

После выполнения SQL скриптов:
- **Логин:** `Xuna`
- **Пароль:** `Smirnova2468`

## 5. Проверка работы

1. Откройте сайт: `https://ce876244.tw1.ru`
2. Нажмите кнопку **"Войти"**
3. Введите логин и пароль
4. Если всё настроено правильно → попадёте в админ-панель

## Возможные проблемы

### "Database connection failed"
- Проверьте что `config.php` содержит правильные данные БД
- Проверьте что SQL скрипты выполнены в phpMyAdmin
- Проверьте что права на `config.php` = **600**

### "Не удалось выполнить вход"
- Убедитесь что таблица `admin_users` создана
- Убедитесь что скрипт `02-insert-data.sql` выполнен
- Проверьте что в таблице есть пользователь `Xuna`

### Ошибка 403 или 500
- Проверьте права доступа к файлам (см. раздел 2)
- Проверьте логи ошибок PHP в панели Timeweb

## 6. Безопасность

⚠️ После установки:
1. Убедитесь что папка `api` имеет права **700**
2. Убедитесь что PHP файлы имеют права **600**
3. Смените пароль администратора через админ-панель
4. Не публикуйте данные доступа к БД
